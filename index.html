<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ê–∫—Ç–∏–≤–∞—Ü–∏—è</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #0b0b0b;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
}

#button {
  width: 50vmin;
  height: 50vmin;
  border-radius: 50%;
  background: radial-gradient(circle at top, #ff4a4a, #6a0000);
  display: flex;
  justify-content: center;
  align-items: center;
  color: #ffdede;
  font-size: 1.4rem;
  letter-spacing: 2px;
  cursor: pointer;
  transition: transform 0.6s ease, box-shadow 0.6s ease;
  box-shadow: 0 0 60px rgba(255,0,0,0.25);
  user-select: none;
}

#button.active {
  transform: scale(1.25);
  box-shadow: 0 0 140px rgba(255,0,0,0.5);
}

#button.playing {
  background: radial-gradient(circle at center, #ff8080, #b30000);
  color: #fff;
}
</style>
</head>

<body>

<div id="button">–ù–ê–ñ–ú–ò</div>

<!-- üîä –ó–í–£–ö -->
<audio id="sound" src="Svinya .mp3" preload="auto"></audio>

<script>
/* ================== –ù–ê–°–¢–†–û–ô–ö–ò ================== */

// üîë –í–°–¢–ê–í–¨ API KEY
const API_KEY = "$2a$10$1RugbNNDNYauNVoP/ToX/OoVoTR9s8PzxazU8UWpsKu46Gfab3o0O";

// üóÑÔ∏è –í–°–¢–ê–í–¨ BIN ID
const BIN_ID = "6989f83fae596e708f1dc49a";

// üì° URL –°–û–ë–ï–†–Å–¢–°–Ø –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò
const FLAG_URL = `https://api.jsonbin.io/v3/b/${BIN_ID}/latest`;

/* ============================================== */

const button = document.getElementById("button");
const sound = document.getElementById("sound");

let activated = false;

// –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏
button.addEventListener("click", () => {
  activated = true;
  button.classList.add("active");
  button.textContent = "";
});

// —Ç–∏—Ö–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–∞
setInterval(async () => {
  if (!activated) return;

  try {
    const res = await fetch(FLAG_URL, {
      headers: {
        "X-Master-Key": API_KEY
      }
    });

    const json = await res.json();

    if (json.record.allowed === true && sound.paused) {
      button.classList.add("playing");
      sound.play();
    }

  } catch (e) {
    // –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏—Ö–æ
  }
}, 2000);
</script>

</body>
</html>
